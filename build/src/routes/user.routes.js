"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.userRouter = void 0;
const express_1 = __importDefault(require("express"));
const user_controller_1 = require("../controller/user.controller");
const user_serivce_1 = require("../service/user.serivce");
const user_repository_1 = require("../repository/user.repository");
const typeorm_1 = require("typeorm");
const userRepository = (0, typeorm_1.getCustomRepository)(user_repository_1.UserRepository);
const userService = new user_serivce_1.UserService(userRepository);
const userController = new user_controller_1.UserController(userService);
const userRouter = express_1.default.Router();
exports.userRouter = userRouter;
userRouter.get("/", (req, res) => {
    userController.getUsers(req, res);
});
userRouter.get("/:id", (req, res) => {
    userController.getUserById(req, res);
});
userRouter.post("/", (req, res) => {
    userController.createUser(req, res);
});
userRouter.put("/:id", (req, res) => {
    userController.updateUser(req, res);
});
userRouter.delete("/:id", (req, res) => {
    userController.deleteUser(req, res);
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlci5yb3V0ZXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvcm91dGVzL3VzZXIucm91dGVzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLHNEQUFxRDtBQUNyRCxtRUFBK0Q7QUFDL0QsMERBQXNEO0FBQ3RELG1FQUErRDtBQUMvRCxxQ0FBOEM7QUFFOUMsTUFBTSxjQUFjLEdBQUcsSUFBQSw2QkFBbUIsRUFBQyxnQ0FBYyxDQUFDLENBQUM7QUFDM0QsTUFBTSxXQUFXLEdBQUcsSUFBSSwwQkFBVyxDQUFDLGNBQWMsQ0FBQyxDQUFDO0FBQ3BELE1BQU0sY0FBYyxHQUFHLElBQUksZ0NBQWMsQ0FBQyxXQUFXLENBQUMsQ0FBQztBQUV2RCxNQUFNLFVBQVUsR0FBRyxpQkFBTyxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBc0IzQixnQ0FBVTtBQXBCbkIsVUFBVSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFZLEVBQUUsR0FBYSxFQUFFLEVBQUU7SUFDbEQsY0FBYyxDQUFDLFFBQVEsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7QUFDcEMsQ0FBQyxDQUFDLENBQUM7QUFFSCxVQUFVLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQVksRUFBRSxHQUFhLEVBQUUsRUFBRTtJQUNyRCxjQUFjLENBQUMsV0FBVyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztBQUN2QyxDQUFDLENBQUMsQ0FBQztBQUVILFVBQVUsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBWSxFQUFFLEdBQWEsRUFBRSxFQUFFO0lBQ25ELGNBQWMsQ0FBQyxVQUFVLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQ3RDLENBQUMsQ0FBQyxDQUFDO0FBRUgsVUFBVSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFZLEVBQUUsR0FBYSxFQUFFLEVBQUU7SUFDckQsY0FBYyxDQUFDLFVBQVUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7QUFDdEMsQ0FBQyxDQUFDLENBQUM7QUFFSCxVQUFVLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQVksRUFBRSxHQUFhLEVBQUUsRUFBRTtJQUN4RCxjQUFjLENBQUMsVUFBVSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztBQUN0QyxDQUFDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzLCB7IFJlcXVlc3QsIFJlc3BvbnNlIH0gZnJvbSBcImV4cHJlc3NcIjtcclxuaW1wb3J0IHsgVXNlckNvbnRyb2xsZXIgfSBmcm9tIFwiLi4vY29udHJvbGxlci91c2VyLmNvbnRyb2xsZXJcIjtcclxuaW1wb3J0IHsgVXNlclNlcnZpY2UgfSBmcm9tIFwiLi4vc2VydmljZS91c2VyLnNlcml2Y2VcIjtcclxuaW1wb3J0IHsgVXNlclJlcG9zaXRvcnkgfSBmcm9tIFwiLi4vcmVwb3NpdG9yeS91c2VyLnJlcG9zaXRvcnlcIjtcclxuaW1wb3J0IHsgZ2V0Q3VzdG9tUmVwb3NpdG9yeSB9IGZyb20gXCJ0eXBlb3JtXCI7XHJcblxyXG5jb25zdCB1c2VyUmVwb3NpdG9yeSA9IGdldEN1c3RvbVJlcG9zaXRvcnkoVXNlclJlcG9zaXRvcnkpO1xyXG5jb25zdCB1c2VyU2VydmljZSA9IG5ldyBVc2VyU2VydmljZSh1c2VyUmVwb3NpdG9yeSk7XHJcbmNvbnN0IHVzZXJDb250cm9sbGVyID0gbmV3IFVzZXJDb250cm9sbGVyKHVzZXJTZXJ2aWNlKTtcclxuXHJcbmNvbnN0IHVzZXJSb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5cclxudXNlclJvdXRlci5nZXQoXCIvXCIsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcclxuICB1c2VyQ29udHJvbGxlci5nZXRVc2VycyhyZXEsIHJlcyk7XHJcbn0pO1xyXG5cclxudXNlclJvdXRlci5nZXQoXCIvOmlkXCIsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcclxuICB1c2VyQ29udHJvbGxlci5nZXRVc2VyQnlJZChyZXEsIHJlcyk7XHJcbn0pO1xyXG5cclxudXNlclJvdXRlci5wb3N0KFwiL1wiLCAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XHJcbiAgdXNlckNvbnRyb2xsZXIuY3JlYXRlVXNlcihyZXEsIHJlcyk7XHJcbn0pO1xyXG5cclxudXNlclJvdXRlci5wdXQoXCIvOmlkXCIsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcclxuICB1c2VyQ29udHJvbGxlci51cGRhdGVVc2VyKHJlcSwgcmVzKTtcclxufSk7XHJcblxyXG51c2VyUm91dGVyLmRlbGV0ZShcIi86aWRcIiwgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIHVzZXJDb250cm9sbGVyLmRlbGV0ZVVzZXIocmVxLCByZXMpO1xyXG59KTtcclxuXHJcbmV4cG9ydCB7IHVzZXJSb3V0ZXIgfTtcclxuIl19